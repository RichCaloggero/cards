<!DOCTYPE HTML>
<html lang="en">
<head>
<title>Test</title>
</head>
<body>
<label>hand:
<br><select id="hand"></select></label>

<output id="status"></output>

<script type="module">
import * as hearts from "./hearts.js";
import * as cards from "./cards.js";

const $hand = document.querySelector("#hand");
const $status = document.querySelector("#status");

$hand.addEventListener("click", e => {
const hand = hearts.playCard(e.target.selectedIndex);
if (hand instanceof Array) {
displayHand(hand);
document.dispatchEvent(Event("cardPlayed"));
} else {
displayMessage(hand);
} // if
});

$hand.addEventListener("keyup", e => {
if (e.key === "Enter") e.target.click();
}); // enter key clicks

hearts.startNewGame(document);
displayHand(hearts.dealNewHand());
hearts.playTurn(2);

//displayMessage("New game.");

function displayHand (hand) {
fillSelectList($hand, hand);
} // displayHand


function fillSelectList($list, items) {
$list.innerHTML = "";
for (const item of items) {
$list.add(new Option(cards.displayCard(item), JSON.stringify(item)));
} // for

return $list;
} // fillSelectList



</script>

</body>
</html>
